
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Utility Functions &#8212; DrizzlePac 2.1.22 (15-March-2018) documentation</title>
    <link rel="stylesheet" href="_static/stsci_sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.1.22 (15-March-2018)',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="WCS Utilities" href="wcsutils.html" />
    <link rel="prev" title="Utilities" href="util.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="wcsutils.html" title="WCS Utilities"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="util.html" title="Utilities"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">DrizzlePac 2.1.22 (15-March-2018) documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="util.html" accesskey="U">Utilities</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/stsci_logo.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="util.html"
                        title="previous chapter">Utilities</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="wcsutils.html"
                        title="next chapter">WCS Utilities</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/utilfuncs.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="utility-functions">
<h1>Utility Functions<a class="headerlink" href="#utility-functions" title="Permalink to this headline">¶</a></h1>
<p>These functions perform various small operations within <code class="xref py py-obj docutils literal"><span class="pre">Multidrizzle</span></code>.</p>
<span class="target" id="module-drizzlepac.util"></span><p>A library of utility functions</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Authors:</th><td class="field-body">Warren Hack</td>
</tr>
<tr class="field-even field"><th class="field-name">License:</th><td class="field-body"><a class="reference external" href="http://www.stsci.edu/resources/software_hardware/pyraf/LICENSE">http://www.stsci.edu/resources/software_hardware/pyraf/LICENSE</a></td>
</tr>
</tbody>
</table>
<dl class="class">
<dt id="drizzlepac.util.ProcSteps">
<em class="property">class </em><code class="descclassname">drizzlepac.util.</code><code class="descname">ProcSteps</code><a class="reference internal" href="_modules/drizzlepac/util.html#ProcSteps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.ProcSteps" title="Permalink to this definition">¶</a></dt>
<dd><p>This class allows MultiDrizzle to keep track of the
start and end times of each processing step that gets run
as well as computing/reporting the elapsed time for each step.</p>
<p>The code for each processing step must call the ‘addStep()’
method to initialize the information for that step, then
the ‘endStep()’ method to record the end and elapsed times.</p>
<p>The ‘reportTimes()’ method can then be used to provide a summary
of all the elapsed times and total run time.</p>
<dl class="method">
<dt id="drizzlepac.util.ProcSteps.addStep">
<code class="descname">addStep</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#ProcSteps.addStep"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.ProcSteps.addStep" title="Permalink to this definition">¶</a></dt>
<dd><p>Add information about a new step to the dict of steps
The value ‘ptime’ is the output from ‘_ptime()’ containing
both the formatted and unformatted time for the start of the
step.</p>
</dd></dl>

<dl class="method">
<dt id="drizzlepac.util.ProcSteps.endStep">
<code class="descname">endStep</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#ProcSteps.endStep"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.ProcSteps.endStep" title="Permalink to this definition">¶</a></dt>
<dd><p>Record the end time for the step.</p>
<p>If key==None, simply record ptime as end time for class to represent
the overall runtime since the initialization of the class.</p>
</dd></dl>

<dl class="method">
<dt id="drizzlepac.util.ProcSteps.reportTimes">
<code class="descname">reportTimes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#ProcSteps.reportTimes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.ProcSteps.reportTimes" title="Permalink to this definition">¶</a></dt>
<dd><p>Print out a formatted summary of the elapsed times for all the
performed steps.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="drizzlepac.util.WithLogging">
<em class="property">class </em><code class="descclassname">drizzlepac.util.</code><code class="descname">WithLogging</code><a class="reference internal" href="_modules/drizzlepac/util.html#WithLogging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.WithLogging" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="drizzlepac.util.applyUserPars_steps">
<code class="descclassname">drizzlepac.util.</code><code class="descname">applyUserPars_steps</code><span class="sig-paren">(</span><em>configObj</em>, <em>input_dict</em>, <em>step='3a'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#applyUserPars_steps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.applyUserPars_steps" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply logic to turn on use of user-specified output WCS if user provides
any parameter on command-line regardless of how final_wcs was set.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.atfile_ivm">
<code class="descclassname">drizzlepac.util.</code><code class="descname">atfile_ivm</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#atfile_ivm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.atfile_ivm" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the filename of the IVM file
which is assumed to be the second word
in the atfile the user gave.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.atfile_sci">
<code class="descclassname">drizzlepac.util.</code><code class="descname">atfile_sci</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#atfile_sci"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.atfile_sci" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the filename of the science image
which is assumed to be the first word
in the atfile the user gave.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.base_taskname">
<code class="descclassname">drizzlepac.util.</code><code class="descname">base_taskname</code><span class="sig-paren">(</span><em>taskname</em>, <em>packagename=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#base_taskname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.base_taskname" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract the base name of the task.</p>
<p>Many tasks in the <code class="xref py py-obj docutils literal"><span class="pre">drizzlepac</span></code> have “compound” names such as
‘drizzlepac.sky’. This function will search for the presence of a dot
in the input <code class="xref py py-obj docutils literal"><span class="pre">taskname</span></code> and if found, it will return the string
to the right of the right-most dot. If a dot is not found, it will return
the input string.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong id="taskname">taskname</strong> : str, None</p>
<blockquote>
<div><p>Full task name. If it is <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><code class="xref py py-obj docutils literal"><span class="pre">None</span></code></a>, <a class="reference internal" href="#drizzlepac.util.base_taskname" title="drizzlepac.util.base_taskname"><code class="xref py py-func docutils literal"><span class="pre">base_taskname</span></code></a> will
return <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><code class="xref py py-obj docutils literal"><span class="pre">None</span></code></a>.</p>
</div></blockquote>
<p><strong id="packagename">packagename</strong> : str, None (Default = None)</p>
<blockquote>
<div><p>Package name. It is assumed that a compound task name is formed by
concatenating <code class="xref py py-obj docutils literal"><span class="pre">packagename</span></code> + ‘.’ + <code class="xref py py-obj docutils literal"><span class="pre">taskname</span></code>. If <code class="xref py py-obj docutils literal"><span class="pre">packagename</span></code>
is not <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><code class="xref py py-obj docutils literal"><span class="pre">None</span></code></a>, <a class="reference internal" href="#drizzlepac.util.base_taskname" title="drizzlepac.util.base_taskname"><code class="xref py py-func docutils literal"><span class="pre">base_taskname</span></code></a> will check that the string
to the left of the right-most dot matches <code class="xref py py-obj docutils literal"><span class="pre">packagename</span></code> and will
raise an <a class="reference external" href="https://docs.python.org/3/library/exceptions.html#AssertionError" title="(in Python v3.6)"><code class="xref py py-obj docutils literal"><span class="pre">AssertionError</span></code></a> if the package name derived from the
input <code class="xref py py-obj docutils literal"><span class="pre">taskname</span></code> does not match the supplied <code class="xref py py-obj docutils literal"><span class="pre">packagename</span></code>. This
is intended as a check for discrepancies that may arise
during the development of the tasks. If <code class="xref py py-obj docutils literal"><span class="pre">packagename</span></code> is <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><code class="xref py py-obj docutils literal"><span class="pre">None</span></code></a>,
no such check will be performed.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><p class="first"><strong>AssertionError</strong></p>
<blockquote class="last">
<div><p>Raised when package name derived from the input <code class="xref py py-obj docutils literal"><span class="pre">taskname</span></code> does not
match the supplied <code class="xref py py-obj docutils literal"><span class="pre">packagename</span></code></p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.check_blank">
<code class="descclassname">drizzlepac.util.</code><code class="descname">check_blank</code><span class="sig-paren">(</span><em>cvar</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#check_blank"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.check_blank" title="Permalink to this definition">¶</a></dt>
<dd><p>Converts blank value (from configObj?) into a value of None.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.computeRange">
<code class="descclassname">drizzlepac.util.</code><code class="descname">computeRange</code><span class="sig-paren">(</span><em>corners</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#computeRange"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.computeRange" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the range spanned by an array of pixel positions.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.compute_texptime">
<code class="descclassname">drizzlepac.util.</code><code class="descname">compute_texptime</code><span class="sig-paren">(</span><em>imageObjectList</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#compute_texptime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.compute_texptime" title="Permalink to this definition">¶</a></dt>
<dd><p>Add up the exposure time for all the members in
the pattern, since ‘drizzle’ doesn’t have the necessary
information to correctly set this itself.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.countImages">
<code class="descclassname">drizzlepac.util.</code><code class="descname">countImages</code><span class="sig-paren">(</span><em>imageObjectList</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#countImages"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.countImages" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="drizzlepac.util.count_sci_extensions">
<code class="descclassname">drizzlepac.util.</code><code class="descname">count_sci_extensions</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#count_sci_extensions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.count_sci_extensions" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the number of SCI extensions and the EXTNAME from a input MEF file.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.createFile">
<code class="descclassname">drizzlepac.util.</code><code class="descname">createFile</code><span class="sig-paren">(</span><em>dataArray=None</em>, <em>outfile=None</em>, <em>header=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#createFile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.createFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a simple fits file for the given data array and header.
Returns either the FITS object in-membory when outfile==None or
None when the FITS file was written out to a file.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.displayBadRefimageWarningBox">
<code class="descclassname">drizzlepac.util.</code><code class="descname">displayBadRefimageWarningBox</code><span class="sig-paren">(</span><em>display=True</em>, <em>parent=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#displayBadRefimageWarningBox"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.displayBadRefimageWarningBox" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays a warning box for the ‘input’ parameter.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.displayEmptyInputWarningBox">
<code class="descclassname">drizzlepac.util.</code><code class="descname">displayEmptyInputWarningBox</code><span class="sig-paren">(</span><em>display=True</em>, <em>parent=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#displayEmptyInputWarningBox"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.displayEmptyInputWarningBox" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays a warning box for the ‘input’ parameter.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.displayMakewcsWarningBox">
<code class="descclassname">drizzlepac.util.</code><code class="descname">displayMakewcsWarningBox</code><span class="sig-paren">(</span><em>display=True</em>, <em>parent=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#displayMakewcsWarningBox"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.displayMakewcsWarningBox" title="Permalink to this definition">¶</a></dt>
<dd><p>Displays a warning box for the ‘makewcs’ parameter.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.end_logging">
<code class="descclassname">drizzlepac.util.</code><code class="descname">end_logging</code><span class="sig-paren">(</span><em>filename=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#end_logging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.end_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Close log file and restore system defaults.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.findWCSExtn">
<code class="descclassname">drizzlepac.util.</code><code class="descname">findWCSExtn</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#findWCSExtn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.findWCSExtn" title="Permalink to this definition">¶</a></dt>
<dd><p>Return new filename with extension that points to an extension with a
valid WCS.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>extnum</strong> : str, None</p>
<blockquote class="last">
<div><p>Value of extension name as a string either as provided by the user
or based on the extension number for the first extension which
contains a valid HSTWCS object.  Returns None if no extension can be
found with a valid WCS.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<dl class="docutils">
<dt>The return value from this function can be used as input to</dt>
<dd><p class="first">create another HSTWCS with the syntax:</p>
<div class="last highlight-default"><div class="highlight"><pre><span></span>`HSTWCS(&#39;{}[{}]&#39;.format(filename,extnum))
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.findrootname">
<code class="descclassname">drizzlepac.util.</code><code class="descname">findrootname</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#findrootname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.findrootname" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the rootname of the given file.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.getConfigObjPar">
<code class="descclassname">drizzlepac.util.</code><code class="descname">getConfigObjPar</code><span class="sig-paren">(</span><em>configObj</em>, <em>parname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#getConfigObjPar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.getConfigObjPar" title="Permalink to this definition">¶</a></dt>
<dd><p>Return parameter value without having to specify which section
holds the parameter.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.getDefaultConfigObj">
<code class="descclassname">drizzlepac.util.</code><code class="descname">getDefaultConfigObj</code><span class="sig-paren">(</span><em>taskname</em>, <em>configObj</em>, <em>input_dict={}</em>, <em>loadOnly=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#getDefaultConfigObj"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.getDefaultConfigObj" title="Permalink to this definition">¶</a></dt>
<dd><p>Return default configObj instance for task updated
with user-specified values from input_dict.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong id="taskname">taskname</strong> : string</p>
<blockquote>
<div><p>Name of task to load into TEAL</p>
</div></blockquote>
<p><strong id="configObj">configObj</strong> : string</p>
<blockquote>
<div><p>The valid values for ‘configObj’ would be:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kc">None</span>                      <span class="o">-</span> <span class="n">loads</span> <span class="n">last</span> <span class="n">saved</span> <span class="n">user</span> <span class="o">.</span><span class="n">cfg</span> <span class="n">file</span>
<span class="s1">&#39;defaults&#39;</span>                <span class="o">-</span> <span class="n">loads</span> <span class="n">task</span> <span class="n">default</span> <span class="o">.</span><span class="n">cfg</span> <span class="n">file</span>
<span class="n">name</span> <span class="n">of</span> <span class="o">.</span><span class="n">cfg</span> <span class="n">file</span> <span class="p">(</span><span class="n">string</span><span class="p">)</span><span class="o">-</span> <span class="n">loads</span> <span class="n">user</span><span class="o">-</span><span class="n">specified</span> <span class="o">.</span><span class="n">cfg</span> <span class="n">file</span>
</pre></div>
</div>
</div></blockquote>
<p><strong id="input_dict">input_dict</strong> : dict</p>
<blockquote>
<div><p>Set of parameters and values specified by user to be different from
what gets loaded in from the .cfg file for the task</p>
</div></blockquote>
<p><strong id="loadOnly">loadOnly</strong> : bool</p>
<blockquote class="last">
<div><p>Setting ‘loadOnly’ to False causes the TEAL GUI to start allowing the
user to edit the values further and then run the task if desired.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.getFullParList">
<code class="descclassname">drizzlepac.util.</code><code class="descname">getFullParList</code><span class="sig-paren">(</span><em>configObj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#getFullParList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.getFullParList" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a single list of all parameter names included in the configObj
regardless of which section the parameter was stored</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.getRotatedSize">
<code class="descclassname">drizzlepac.util.</code><code class="descname">getRotatedSize</code><span class="sig-paren">(</span><em>corners</em>, <em>angle</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#getRotatedSize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.getRotatedSize" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the size of a rotated (meta)image.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.getSectionName">
<code class="descclassname">drizzlepac.util.</code><code class="descname">getSectionName</code><span class="sig-paren">(</span><em>configObj</em>, <em>stepnum</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#getSectionName"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.getSectionName" title="Permalink to this definition">¶</a></dt>
<dd><p>Return section label based on step number.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.get_detnum">
<code class="descclassname">drizzlepac.util.</code><code class="descname">get_detnum</code><span class="sig-paren">(</span><em>hstwcs</em>, <em>filename</em>, <em>extnum</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#get_detnum"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.get_detnum" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="drizzlepac.util.get_expstart">
<code class="descclassname">drizzlepac.util.</code><code class="descname">get_expstart</code><span class="sig-paren">(</span><em>header</em>, <em>primary_hdr</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#get_expstart"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.get_expstart" title="Permalink to this definition">¶</a></dt>
<dd><p>shouldn’t this just be defined in the instrument subclass of imageobject?</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.get_pool_size">
<code class="descclassname">drizzlepac.util.</code><code class="descname">get_pool_size</code><span class="sig-paren">(</span><em>usr_config_value</em>, <em>num_tasks</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#get_pool_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.get_pool_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine size of thread/process-pool for parallel processing.
This examines the cpu_count to decide and return the right pool
size to use.  Also take into account the user’s wishes via the config
object value, if specified.  On top of that, don’t allow the pool size
returned to be any higher than the number of parallel tasks, if specified.
Only use what we need (mp.Pool starts pool_size processes, needed or not).
If number of tasks is unknown, call this with “num_tasks” set to None.
Returns 1 when indicating that parallel processing should not be used.
Consolidate all such logic here, not in the caller.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.init_logging">
<code class="descclassname">drizzlepac.util.</code><code class="descname">init_logging</code><span class="sig-paren">(</span><em>logfile='astrodrizzle.log'</em>, <em>default=None</em>, <em>level=20</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#init_logging"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.init_logging" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up logger for capturing stdout/stderr messages.</p>
<p>Must be called prior to writing any messages that you want to log.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.isASNTable">
<code class="descclassname">drizzlepac.util.</code><code class="descname">isASNTable</code><span class="sig-paren">(</span><em>inputFilelist</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#isASNTable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.isASNTable" title="Permalink to this definition">¶</a></dt>
<dd><p>Return TRUE if inputFilelist is a fits ASN file.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.isCommaList">
<code class="descclassname">drizzlepac.util.</code><code class="descname">isCommaList</code><span class="sig-paren">(</span><em>inputFilelist</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#isCommaList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.isCommaList" title="Permalink to this definition">¶</a></dt>
<dd><p>Return True if the input is a comma separated list of names.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.is_blank">
<code class="descclassname">drizzlepac.util.</code><code class="descname">is_blank</code><span class="sig-paren">(</span><em>val</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#is_blank"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.is_blank" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines whether or not a value is considered ‘blank’.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.loadFileList">
<code class="descclassname">drizzlepac.util.</code><code class="descname">loadFileList</code><span class="sig-paren">(</span><em>inputFilelist</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#loadFileList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.loadFileList" title="Permalink to this definition">¶</a></dt>
<dd><p>Open up the ‘&#64; file’ and read in the science and possible
ivm filenames from the first two columns.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.parse_colnames">
<code class="descclassname">drizzlepac.util.</code><code class="descname">parse_colnames</code><span class="sig-paren">(</span><em>colnames</em>, <em>coords=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#parse_colnames"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.parse_colnames" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert colnames input into list of column numbers.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.printParams">
<code class="descclassname">drizzlepac.util.</code><code class="descname">printParams</code><span class="sig-paren">(</span><em>paramDictionary</em>, <em>all=False</em>, <em>log=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#printParams"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.printParams" title="Permalink to this definition">¶</a></dt>
<dd><p>Print nicely the parameters from the dictionary.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.print_pkg_versions">
<code class="descclassname">drizzlepac.util.</code><code class="descname">print_pkg_versions</code><span class="sig-paren">(</span><em>packages=None</em>, <em>svn=False</em>, <em>log=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#print_pkg_versions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.print_pkg_versions" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="drizzlepac.util.readCommaList">
<code class="descclassname">drizzlepac.util.</code><code class="descname">readCommaList</code><span class="sig-paren">(</span><em>fileList</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#readCommaList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.readCommaList" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of the files with the commas removed.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.readcols">
<code class="descclassname">drizzlepac.util.</code><code class="descname">readcols</code><span class="sig-paren">(</span><em>infile, cols=[0, 1, 2, 3], hms=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#readcols"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.readcols" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the columns from an ASCII file as numpy arrays.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong id="infile">infile</strong> : str</p>
<blockquote>
<div><p>Filename of ASCII file with array data as columns.</p>
</div></blockquote>
<p><strong id="cols">cols</strong> : list of int</p>
<blockquote>
<div><p>List of 0-indexed column numbers for columns to be turned into numpy arrays
(DEFAULT- [0,1,2,3]).</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>outarr</strong> : list of numpy arrays</p>
<blockquote class="last">
<div><p>Simple list of numpy arrays in the order as specifed in the ‘cols’ parameter.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.removeFileSafely">
<code class="descclassname">drizzlepac.util.</code><code class="descname">removeFileSafely</code><span class="sig-paren">(</span><em>filename</em>, <em>clobber=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#removeFileSafely"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.removeFileSafely" title="Permalink to this definition">¶</a></dt>
<dd><p>Delete the file specified, but only if it exists and clobber is True.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.runmakewcs">
<code class="descclassname">drizzlepac.util.</code><code class="descname">runmakewcs</code><span class="sig-paren">(</span><em>input</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#runmakewcs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.runmakewcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs ‘updatewcs’ to recompute the WCS keywords for the input image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong id="input">input</strong> : list of str</p>
<blockquote>
<div><p>A list of file names.</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>output</strong> : list of str</p>
<blockquote class="last">
<div><p>Returns a list of names of the modified files
(For GEIS files returns the translated names).</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.updateNEXTENDKw">
<code class="descclassname">drizzlepac.util.</code><code class="descname">updateNEXTENDKw</code><span class="sig-paren">(</span><em>fobj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#updateNEXTENDKw"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.updateNEXTENDKw" title="Permalink to this definition">¶</a></dt>
<dd><p>Update NEXTEND keyword in PRIMARY header (if present) to accurately
reflect the number of extensions in the MEF file.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.update_input">
<code class="descclassname">drizzlepac.util.</code><code class="descname">update_input</code><span class="sig-paren">(</span><em>filelist</em>, <em>ivmlist=None</em>, <em>removed_files=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#update_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.update_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes files flagged to be removed from the input filelist.
Removes the corresponding ivm files if present.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.validateUserPars">
<code class="descclassname">drizzlepac.util.</code><code class="descname">validateUserPars</code><span class="sig-paren">(</span><em>configObj</em>, <em>input_dict</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#validateUserPars"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.validateUserPars" title="Permalink to this definition">¶</a></dt>
<dd><p>Compares input parameter names specified by user with those already
recognized by the task.</p>
<p>Any parameters provided by the user that does not match a known
task parameter will be reported and a ValueError exception will be
raised.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.verifyFilePermissions">
<code class="descclassname">drizzlepac.util.</code><code class="descname">verifyFilePermissions</code><span class="sig-paren">(</span><em>filelist</em>, <em>chmod=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#verifyFilePermissions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.verifyFilePermissions" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify that images specified in ‘filelist’ can be updated.</p>
<p>A message will be printed reporting the names of any images which
do not have write-permission, then quit.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.verifyRefimage">
<code class="descclassname">drizzlepac.util.</code><code class="descname">verifyRefimage</code><span class="sig-paren">(</span><em>refimage</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#verifyRefimage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.verifyRefimage" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify that the value of refimage specified by the user points to an
extension with a proper WCS defined. It starts by making sure an extension gets
specified by the user when using a MEF file. The final check comes by looking
for a CD matrix in the WCS object itself. If either test fails, it returns
a value of False.</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.verifyUniqueWcsname">
<code class="descclassname">drizzlepac.util.</code><code class="descname">verifyUniqueWcsname</code><span class="sig-paren">(</span><em>fname</em>, <em>wcsname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#verifyUniqueWcsname"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.verifyUniqueWcsname" title="Permalink to this definition">¶</a></dt>
<dd><p>Report whether or not the specified WCSNAME already exists in the file</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.util.verifyUpdatewcs">
<code class="descclassname">drizzlepac.util.</code><code class="descname">verifyUpdatewcs</code><span class="sig-paren">(</span><em>fname</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/util.html#verifyUpdatewcs"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.util.verifyUpdatewcs" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify the existence of WCSNAME in the file.  If it is not present,
report this to the user and raise an exception.  Returns True if WCSNAME
was found in all SCI extensions.</p>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="wcsutils.html" title="WCS Utilities"
             >next</a> |</li>
        <li class="right" >
          <a href="util.html" title="Utilities"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">DrizzlePac 2.1.22 (15-March-2018) documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="util.html" >Utilities</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Warren Hack, Nadia Dencheva, Chris Sontag, Megan Sosey, Michael Droettboom, Mihai Cara.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.3.
    </div>
  </body>
</html>