
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Imagefindpars: Source finding parameters &#8212; DrizzlePac 2.1.22 (15-March-2018) documentation</title>
    <link rel="stylesheet" href="_static/stsci_sphinx.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '2.1.22 (15-March-2018)',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Image Class" href="image.html" />
    <link rel="prev" title="Refmagefindpars: Source finding parameters for the reference image" href="refimagefindpars.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="image.html" title="Image Class"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="refimagefindpars.html" title="Refmagefindpars: Source finding parameters for the reference image"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">DrizzlePac 2.1.22 (15-March-2018) documentation</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/stsci_logo.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="refimagefindpars.html"
                        title="previous chapter">Refmagefindpars: Source finding parameters for the reference image</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="image.html"
                        title="next chapter">Image Class</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/imagefindpars.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="imagefindpars-source-finding-parameters">
<span id="imagefindpars"></span><h1>Imagefindpars: Source finding parameters<a class="headerlink" href="#imagefindpars-source-finding-parameters" title="Permalink to this headline">¶</a></h1>
<p>This interface provides a mechanism for setting the parameters used by the built-in source finding algorithm based on the published algorithms used by DAOFIND.</p>
<span class="target" id="module-drizzlepac.imagefindpars"></span><p>These parameters control the operation of the algorithm that extracts
sources from the image as called by <a class="reference internal" href="tweakreg.html#tweakreg"><span class="std std-ref">TWEAKREG: Alignment of Images</span></a>.
The algorithm implemented follows the concepts defined
by <code class="docutils literal"><span class="pre">DAOFIND</span></code> (without actually using any <code class="docutils literal"><span class="pre">DAOFIND</span></code> code).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Attributes:</th><td class="field-body"><dl class="first last docutils">
<dt><strong>computesig</strong>: bool (Default = True)</dt>
<dd><p class="first">This parameter controls whether or not to automatically compute a
sigma value to be used for object identification. If set to <code class="docutils literal"><span class="pre">True</span></code>,
then the value computed will override any user input for
the parameter <code class="docutils literal"><span class="pre">skysigma</span></code>. The automatic sigma value gets
computed from each input exposure as:</p>
<div class="math">
<p><img src="_images/math/b63e6b84b5fc4fc1a9d780a935879bb99bcaf34f.png" alt="\sigma = \sqrt{2\left|mode\right|}"/></p>
</div><p class="last">This single value will then be used for object identification
for all input exposures.</p>
</dd>
<dt><strong>skysigma</strong>: float (Default = 0.0)</dt>
<dd><p class="first last">The standard deviation of the sky pixels. This value will only be
used if computesig is <code class="docutils literal"><span class="pre">False</span></code>.</p>
</dd>
<dt><strong>conv_width</strong>: float (Default = 3.5)</dt>
<dd><p class="first last">The convolution kernel width in pixels. Recommended values
(~2x the PSF FWHM): ACS/WFC &amp; WFC3/UVIS ~3.5 pix and
WFC3/IR ~2.5 pix.</p>
</dd>
<dt><strong>peakmin</strong>: float, None (Default = None)</dt>
<dd><p class="first last">This parameter allows the user to select only those sources whose
peak value (in the units of the input image) is greater than this
value.</p>
</dd>
<dt><strong>peakmax</strong>: float, None  (Default = None)</dt>
<dd><p class="first last">This parameter allows the user to select only those sources
whose peak value (in the units of the input image) is less than
this value.</p>
</dd>
<dt><strong>threshold</strong>: float (Default = 4.0)</dt>
<dd><p class="first last">The object detection threshold above the local background in units
of sigma.</p>
</dd>
<dt><strong>nsigma</strong>: float (Default = 1.5)</dt>
<dd><p class="first last">The semi-major axis of the Gaussian convolution kernel used to
compute the density enhancement and mean density images in
Gaussian sigma.</p>
</dd>
<dt><strong>ratio</strong>: float (Default = 1.0)</dt>
<dd><p class="first last">The ratio of the sigma of the Gaussian convolution kernel along
the minor axis direction to the sigma along the major axis direction.
For a circularly-symmetric kernel use ratio = 1.0.</p>
</dd>
<dt><strong>theta</strong>: float (Default = 0.0)</dt>
<dd><p class="first last">The position angle (degrees) of the major axis of the Gaussian
convolution kernel. Theta is measured counter-clockwise from
the x axis.</p>
</dd>
<dt><strong>fluxmin</strong>: float, None (Default = None)</dt>
<dd><p class="first last">This parameter allows the user to select only those sources whose
total flux (in the units of the input image) is greater than
this value.</p>
</dd>
<dt><strong>fluxmax</strong>: float, None (Default = None)</dt>
<dd><p class="first last">This parameter allows the user to select only those sources whose
total flux (in the units of the input image) is less than this value.</p>
</dd>
<dt><strong>dqbits</strong>: int, str, None, optional (Default = None)</dt>
<dd><p class="first">Integer sum of all the DQ bit values from the input image’s DQ array
that should be considered “good” when building masks for source
finding. For example, if pixels in the DQ array can be combinations
of 1, 2, 4, and 8 flags and one wants to consider DQ “defects”
having flags 2 and 4 as being acceptable for source finding,
then <code class="xref py py-obj docutils literal"><span class="pre">dqbits</span></code> should be set to 2+4=6. Then a DQ pixel having values
2,4, or 6 will be considered a good pixel, while a DQ pixel with
a value, e.g., 1+2=3, 4+8=12, etc. will be flagged as a “bad” pixel.</p>
<p>Alternatively, one can enter a comma- or ‘+’-separated list of
integer bit flags that should be added to obtain the final “good”
bits. For example, both <code class="docutils literal"><span class="pre">4,8</span></code> and <code class="docutils literal"><span class="pre">4+8</span></code> are equivalent to
setting <code class="xref py py-obj docutils literal"><span class="pre">dqbits</span></code> to 12.</p>
<div class="line-block">
<div class="line">Setting <code class="xref py py-obj docutils literal"><span class="pre">dqbits</span></code> to 0 will make <em>all</em> non-zero pixels in the DQ
mask to be considered “bad” pixels, and the corresponding image
pixels will not be used for source finding.</div>
</div>
<div class="line-block">
<div class="line">The default value of <a class="reference external" href="https://docs.python.org/3/library/constants.html#None" title="(in Python v3.6)"><code class="xref py py-obj docutils literal"><span class="pre">None</span></code></a> will turn off the use of image’s DQ
array for source finding.</div>
</div>
<div class="last line-block">
<div class="line">In order to reverse the meaning of the <code class="xref py py-obj docutils literal"><span class="pre">dqbits</span></code>
parameter from indicating values of the “good” DQ flags
to indicating the “bad” DQ flags, prepend ‘~’ to the string
value. For example, in order not to use pixels with
DQ flags 4 and 8 for source finding and to consider
as “good” all other pixels (regardless of their DQ flag),
set <code class="xref py py-obj docutils literal"><span class="pre">dqbits</span></code> to <code class="docutils literal"><span class="pre">~4+8</span></code>, or <code class="docutils literal"><span class="pre">~4,8</span></code>. To obtain the
same effect with an <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.6)"><code class="xref py py-obj docutils literal"><span class="pre">int</span></code></a> input value (except for 0),
enter -(4+8+1)=-9. Following this convention,
a <code class="xref py py-obj docutils literal"><span class="pre">dqbits</span></code> string value of <code class="docutils literal"><span class="pre">'~0'</span></code> would be equivalent to
setting <code class="docutils literal"><span class="pre">dqbits=None</span></code>.</div>
</div>
</dd>
<dt><strong>use_sharp_round</strong>: bool (Default = False)</dt>
<dd><p class="first last">This parameter controls whether or not to enable selection of sources
based on their sharpness and roundness statistics.</p>
</dd>
<dt><strong>sharplo</strong>: float (Default = 0.2)</dt>
<dd><p class="first last"><code class="docutils literal"><span class="pre">sharplo</span></code> and <code class="docutils literal"><span class="pre">sharphi</span></code> are designed to eliminate brightness
maxima that are due to bad pixels rather than to astronomical objects.
Only sources with sharpness above the <code class="docutils literal"><span class="pre">sharplo</span></code> value will be
selected.</p>
</dd>
<dt><strong>sharphi</strong>: float (Default = 1.0)</dt>
<dd><p class="first last"><code class="docutils literal"><span class="pre">sharplo</span></code> and <code class="docutils literal"><span class="pre">sharphi</span></code> are designed to eliminate brightness
maxima that are due to bad pixels rather than to astronomical objects.
Only sources with sharpness below the <code class="docutils literal"><span class="pre">sharphi</span></code> value will be
selected.</p>
</dd>
<dt><strong>roundlo</strong>: float (Default = -1.0)</dt>
<dd><p class="first last"><code class="docutils literal"><span class="pre">roundlo</span></code> and <code class="docutils literal"><span class="pre">roundhi</span></code> are designed to eliminate brightness
maxima that are due to bad rows or columns, rather than to
astronomical objects. Only sources with roundness above the
<code class="docutils literal"><span class="pre">roundlo</span></code> value will be selected.</p>
</dd>
<dt><strong>roundhi</strong>: float (Default = 1.0)</dt>
<dd><p class="first last"><code class="docutils literal"><span class="pre">roundlo</span></code> and <code class="docutils literal"><span class="pre">roundhi</span></code> are designed to eliminate brightness
maxima that are due to bad rows or columns, rather than to
astronomical objects. Only sources with roundness below the
<code class="docutils literal"><span class="pre">roundhi</span></code> value will be selected.</p>
</dd>
</dl>
</td>
</tr>
</tbody>
</table>
<dl class="function">
<dt id="drizzlepac.imagefindpars.getHelpAsString">
<code class="descclassname">drizzlepac.imagefindpars.</code><code class="descname">getHelpAsString</code><span class="sig-paren">(</span><em>docstring=False</em>, <em>show_ver=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/imagefindpars.html#getHelpAsString"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.imagefindpars.getHelpAsString" title="Permalink to this definition">¶</a></dt>
<dd><p>return useful help from a file in the script directory called
__taskname__.help</p>
</dd></dl>

<dl class="function">
<dt id="drizzlepac.imagefindpars.help">
<code class="descclassname">drizzlepac.imagefindpars.</code><code class="descname">help</code><span class="sig-paren">(</span><em>file=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/drizzlepac/imagefindpars.html#help"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#drizzlepac.imagefindpars.help" title="Permalink to this definition">¶</a></dt>
<dd><p>Print out syntax help for running astrodrizzle</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong id="file">file</strong> : str (Default = None)</p>
<blockquote class="last">
<div><p>If given, write out help to the filename specified by this parameter
Any previously existing file with this name will be deleted before
writing out the help.</p>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="image.html" title="Image Class"
             >next</a> |</li>
        <li class="right" >
          <a href="refimagefindpars.html" title="Refmagefindpars: Source finding parameters for the reference image"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">DrizzlePac 2.1.22 (15-March-2018) documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Warren Hack, Nadia Dencheva, Chris Sontag, Megan Sosey, Michael Droettboom, Mihai Cara.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.3.
    </div>
  </body>
</html>